<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World-Class Features Demo - TechStore</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/advanced-features.css">
    <style>
        .demo-section {
            padding: 4rem 0;
            border-bottom: 2px solid var(--gray-200);
        }
        .demo-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
        }
        .demo-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        .feature-showcase {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
        }
        .code-example {
            background: var(--gray-900);
            color: #10b981;
            padding: 1rem;
            border-radius: var(--border-radius);
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar" id="navbar"></nav>

    <!-- Hero -->
    <section class="hero" style="padding: 4rem 0;">
        <div class="container hero-content">
            <h1 class="hero-title">üåç World-Class Features Demo</h1>
            <p class="hero-subtitle">
                Explore advanced features that will make your e-commerce platform famous worldwide!
            </p>
        </div>
    </section>

    <!-- 1. WISHLIST FEATURE -->
    <section class="demo-section">
        <div class="container demo-content">
            <h2 class="demo-title">‚ù§Ô∏è Wishlist Feature</h2>
            <div class="feature-showcase">
                <h3>How it works:</h3>
                <p>Users can save products they love for later purchase</p>
                
                <div class="products-grid" style="margin-top: 2rem;">
                    <div class="card" style="position: relative;">
                        <button class="wishlist-btn" onclick="toggleWishlist('1')">
                            <span id="wishlist-1">‚ô°</span>
                        </button>
                        <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400" alt="Product" class="card-image">
                        <div class="card-content">
                            <h3>Wireless Headphones</h3>
                            <div class="card-price">$299.99</div>
                        </div>
                    </div>
                </div>

                <div class="code-example">
// Add to wishlist<br>
wishlist.add('product-id');<br>
<br>
// Remove from wishlist<br>
wishlist.remove('product-id');<br>
<br>
// Toggle wishlist<br>
wishlist.toggle('product-id');
                </div>
            </div>
        </div>
    </section>

    <!-- 2. SOCIAL SHARE -->
    <section class="demo-section" style="background: var(--gray-50);">
        <div class="container demo-content">
            <h2 class="demo-title">üì± Social Media Sharing</h2>
            <div class="feature-showcase">
                <h3>Share products instantly:</h3>
                <div id="shareButtons"></div>
                
                <div class="code-example">
// Share on social media<br>
socialShare.share(product, 'facebook');<br>
socialShare.share(product, 'twitter');<br>
socialShare.share(product, 'whatsapp');
                </div>
            </div>
        </div>
    </section>

    <!-- 3. CURRENCY CONVERTER -->
    <section class="demo-section">
        <div class="container demo-content">
            <h2 class="demo-title">üí± Multi-Currency Support</h2>
            <div class="feature-showcase">
                <h3>Change currency:</h3>
                <div id="currencySelector"></div>
                
                <div style="margin-top: 1rem;">
                    <strong>Original Price:</strong> $299.99<br>
                    <strong>Converted Price:</strong> <span id="convertedPrice">Loading...</span>
                </div>

                <div class="code-example">
// Convert currency<br>
const price = currencyConverter.convert(299.99, 'USD', 'EUR');<br>
<br>
// Format with currency symbol<br>
const formatted = currencyConverter.format(299.99, 'EUR');
                </div>
            </div>
        </div>
    </section>

    <!-- 4. FLASH SALE COUNTDOWN -->
    <section class="demo-section" style="background: var(--gray-50);">
        <div class="container demo-content">
            <h2 class="demo-title">‚ö° Flash Sale Countdown</h2>
            <div class="feature-showcase">
                <h3>Limited Time Offer!</h3>
                <div id="flashSaleTimer"></div>
                
                <div class="code-example">
// Create countdown timer<br>
const endTime = Date.now() + (24 * 60 * 60 * 1000);<br>
flashSale.createCountdown(endTime, 'flashSaleTimer');
                </div>
            </div>
        </div>
    </section>

    <!-- 5. LOYALTY POINTS -->
    <section class="demo-section">
        <div class="container demo-content">
            <h2 class="demo-title">üéÅ Loyalty Points System</h2>
            <div class="feature-showcase">
                <div id="loyaltyDisplay"></div>
                
                <div style="margin-top: 2rem;">
                    <button class="btn btn-primary" onclick="addLoyaltyPoints()">
                        Earn 100 Points
                    </button>
                    <button class="btn btn-outline" onclick="redeemPoints()">
                        Redeem 500 Points
                    </button>
                </div>

                <div class="code-example">
// Add points from purchase<br>
const points = loyaltyProgram.calculatePointsFromOrder(299.99);<br>
loyaltyProgram.addPoints(points);<br>
<br>
// Redeem points for discount<br>
const discount = loyaltyProgram.redeemPoints(500);
                </div>
            </div>
        </div>
    </section>

    <!-- 6. PRODUCT REVIEWS -->
    <section class="demo-section" style="background: var(--gray-50);">
        <div class="container demo-content">
            <h2 class="demo-title">‚≠ê Product Reviews & Ratings</h2>
            <div class="feature-showcase">
                <h3>Customer Reviews:</h3>
                <div id="reviewsDemo"></div>
                
                <button class="btn btn-primary" style="margin-top: 1rem;" onclick="addReviewDemo()">
                    Add Review
                </button>

                <div class="code-example">
// Add product review<br>
await reviewSystem.addReview('product-id', {<br>
  rating: 5,<br>
  title: 'Excellent Product!',<br>
  comment: 'Very satisfied with this purchase'<br>
});
                </div>
            </div>
        </div>
    </section>

    <!-- 7. SEARCH AUTOCOMPLETE -->
    <section class="demo-section">
        <div class="container demo-content">
            <h2 class="demo-title">üîç Smart Search</h2>
            <div class="feature-showcase">
                <h3>Search with autocomplete:</h3>
                <div style="position: relative; margin: 1rem 0;">
                    <input 
                        type="text" 
                        id="smartSearch" 
                        placeholder="Try typing 'headphones'..."
                        class="form-input"
                        style="width: 100%; padding: 1rem;"
                    >
                    <div id="searchResults" class="search-autocomplete" style="display: none;"></div>
                </div>

                <div class="code-example">
// Get autocomplete suggestions<br>
const results = await advancedSearch.getAutocomplete('head');<br>
<br>
// Perform search<br>
const products = await advancedSearch.search('laptops', {<br>
  category: 'Computers',<br>
  minPrice: 500<br>
});
                </div>
            </div>
        </div>
    </section>

    <!-- 8. ANALYTICS TRACKING -->
    <section class="demo-section" style="background: var(--gray-50);">
        <div class="container demo-content">
            <h2 class="demo-title">üìä Analytics Tracking</h2>
            <div class="feature-showcase">
                <h3>Track user behavior:</h3>
                <p>All user actions are tracked for insights</p>
                
                <div style="margin: 1rem 0;">
                    <button class="btn btn-primary" onclick="trackDemo()">
                        Track Event
                    </button>
                </div>

                <div class="code-example">
// Track page views<br>
analytics.trackPageView('Product Detail');<br>
<br>
// Track product views<br>
analytics.trackProductView(product);<br>
<br>
// Track purchases<br>
analytics.trackPurchase(order);
                </div>
            </div>
        </div>
    </section>

    <!-- Summary -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <h2 class="newsletter-title">üöÄ Ready to Go Global?</h2>
                <p class="newsletter-subtitle">
                    Implement these features to compete with Amazon, eBay, and other world-famous platforms!
                </p>
                <div style="margin-top: 2rem;">
                    <a href="index.html" class="btn btn-primary" style="background: white; color: var(--primary); margin-right: 1rem;">
                        Back to Home
                    </a>
                    <a href="WORLD_CLASS_PLATFORM.md" class="btn btn-outline" style="border-color: white; color: white;">
                        View Documentation
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="footer"></footer>
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/api.js"></script>
    <script src="js/components.js"></script>
    <script src="js/advanced-features.js"></script>
    
    <script>
        // Demo functions
        function toggleWishlist(id) {
            const inWishlist = wishlist.toggle(id);
            const icon = document.getElementById('wishlist-' + id);
            icon.textContent = inWishlist ? '‚ù§Ô∏è' : '‚ô°';
        }

        function addLoyaltyPoints() {
            loyaltyProgram.addPoints(100);
            updateLoyaltyDisplay();
        }

        function redeemPoints() {
            const discount = loyaltyProgram.redeemPoints(500);
            if (discount) {
                toast.success(`You got $${discount.toFixed(2)} discount!`);
                updateLoyaltyDisplay();
            }
        }

        function updateLoyaltyDisplay() {
            document.getElementById('loyaltyDisplay').innerHTML = 
                loyaltyProgram.renderPointsDisplay();
        }

        function addReviewDemo() {
            const reviewHTML = reviewSystem.renderReview({
                id: Date.now(),
                userName: 'Demo User',
                rating: 5,
                title: 'Amazing Product!',
                comment: 'This is a test review. In production, users would submit real reviews.',
                verified: true,
                helpful: 15,
                createdAt: new Date().toISOString()
            });
            document.getElementById('reviewsDemo').innerHTML = reviewHTML;
        }

        function trackDemo() {
            analytics.trackEvent('Demo', 'Button Click', 'Analytics Demo', 1);
            toast.success('Event tracked! Check console for details.');
        }

        // Initialize demos
        document.addEventListener('DOMContentLoaded', async () => {
            // Social share buttons
            const demoProduct = {
                name: 'Demo Product',
                price: 299.99,
                image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400'
            };
            document.getElementById('shareButtons').innerHTML = 
                socialShare.renderShareButtons(demoProduct);

            // Currency selector
            document.getElementById('currencySelector').innerHTML = 
                currencyConverter.renderSelector();

            // Update converted price
            async function updatePrice() {
                const converted = currencyConverter.convert(299.99, 'USD', currencyConverter.currentCurrency);
                document.getElementById('convertedPrice').textContent = 
                    currencyConverter.format(converted);
            }
            updatePrice();

            // Flash sale countdown (24 hours from now)
            const endTime = Date.now() + (24 * 60 * 60 * 1000);
            flashSale.createCountdown(endTime, 'flashSaleTimer');

            // Loyalty display
            updateLoyaltyDisplay();

            // Sample review
            addReviewDemo();

            // Search autocomplete
            const searchInput = document.getElementById('smartSearch');
            const searchResults = document.getElementById('searchResults');
            
            searchInput.addEventListener('input', async (e) => {
                const query = e.target.value;
                if (query.length >= 2) {
                    const results = await advancedSearch.getAutocomplete(query);
                    if (results.length > 0) {
                        searchResults.innerHTML = results.map(product => `
                            <div class="autocomplete-item">
                                <img src="${product.image}" alt="${product.name}">
                                <div class="autocomplete-info">
                                    <div class="autocomplete-name">${product.name}</div>
                                    <div class="autocomplete-price">${formatPrice(product.price)}</div>
                                </div>
                            </div>
                        `).join('');
                        searchResults.style.display = 'block';
                    }
                } else {
                    searchResults.style.display = 'none';
                }
            });

            // Close search results when clicking outside
            document.addEventListener('click', (e) => {
                if (!searchInput.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });

            // Track page view
            analytics.trackPageView('Advanced Features Demo');
            
            toast.success('All advanced features loaded! üöÄ');
        });
    </script>
</body>
</html>
